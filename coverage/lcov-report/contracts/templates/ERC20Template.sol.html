<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/templates/ERC20Template.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">contracts/templates/</a> ERC20Template.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/30</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/12</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/16</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/32</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">pragma solidity ^0.5.7;
&nbsp;
import '../fee/Manager.sol';
import './token/ERC20Pausable.sol';
&nbsp;
/**
* @title ERC20Template 
* @dev ERC20Template is a Data Token ERC20 compliant template 
*      used by the factory contract
*/
contract ERC20Template is ERC20Pausable {
    using SafeMath for uint256;
    
    bool    private initialized = false;
    string  private _name;
    string  private _symbol;
    uint256 private _cap;
    uint256 private _decimals;
    address private _minter;
&nbsp;
    address payable private beneficiary;
&nbsp;
    FeeManager serviceFeeManager;
    
<span class="fstat-no" title="function not covered" >    modifier onlyNotInitialized(</span>) {
<span class="cstat-no" title="statement not covered" >        require(</span>
          !initialized,
          'DataToken: token instance already initialized'
        );
        _;
    }
    
<span class="fstat-no" title="function not covered" >    modifier onlyMinter(</span>) {
<span class="cstat-no" title="statement not covered" >        require(</span>
            msg.sender == _minter,
            'DataToken: invalid minter' 
        );
        _;
    }
    
    /**
     * @notice only used prior contract deployment
     */
<span class="fstat-no" title="function not covered" >    constructor(</span>
        string memory name,
        string memory symbol,
        address minter,
        address payable feeManager
&nbsp;
    )
        public
    {
<span class="cstat-no" title="statement not covered" >         _initialize(</span>
            name,
            symbol,
            minter,
            feeManager
        );
    }
    
    /**
     * @notice only used prior token instance setup (all state variables will be initialized)
        "initialize(string,string,address)","datatoken-1","dt-1",0xBa3e0EC852Dc24cA7F454ea545D40B1462501711
     */
<span class="fstat-no" title="function not covered" >    function initialize(</span>
        string memory name,
        string memory symbol,
        address minter,
        address payable feeManager
    ) 
        public
        onlyNotInitialized 
    {
<span class="cstat-no" title="statement not covered" >        _initialize(</span>
            name,
            symbol,
            minter,
            feeManager
        );
    }
    
<span class="fstat-no" title="function not covered" >    function _initialize(</span>
        string memory name,
        string memory symbol,
        address minter,
        address payable feeManager
    ) private {
<span class="cstat-no" title="statement not covered" >        require(minter != address(0), 'Invalid minter:  address(0)')</span>;
<span class="cstat-no" title="statement not covered" >        require(_minter == address(0), 'Invalid minter: access denied')</span>;
        
<span class="cstat-no" title="statement not covered" >        _decimals = 18</span>;
<span class="cstat-no" title="statement not covered" >        uint256 baseCap = 1400000000;</span>
<span class="cstat-no" title="statement not covered" >        _cap = baseCap.mul(uint256(10) ** _decimals)</span>;
       
<span class="cstat-no" title="statement not covered" >         _name = name</span>;
<span class="cstat-no" title="statement not covered" >        _symbol = symbol</span>;
<span class="cstat-no" title="statement not covered" >        _minter = minter</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        serviceFeeManager = FeeManager(feeManager)</span>;
<span class="cstat-no" title="statement not covered" >        beneficiary = feeManager</span>;
<span class="cstat-no" title="statement not covered" >        initialized = true</span>;
    }
    
<span class="fstat-no" title="function not covered" >    function mint(address account, uint256 value) public payable onlyNotPaused onlyMinte</span>r {
<span class="cstat-no" title="statement not covered" >        uint256 startGas = gasleft();</span>
<span class="cstat-no" title="statement not covered" >        require(totalSupply().add(value) &lt;= _cap, "DataToken: cap exceeded")</span>;
        
<span class="cstat-no" title="statement not covered" >        _mint(account, value)</span>;
<span class="cstat-no" title="statement not covered" >        require(msg.value &gt;= serviceFeeManager.getFee(startGas, value),</span>
            "DataToken: fee amount is not enough");
        
<span class="cstat-no" title="statement not covered" >        beneficiary.transfer(msg.value)</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function pause() public onlyNotPaused onlyMinte</span>r {
<span class="cstat-no" title="statement not covered" >        paused = true</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function unpause() public onlyPaused onlyMinte</span>r {
<span class="cstat-no" title="statement not covered" >        paused = false</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function setMinter(address minter) public onlyNotPaused onlyMinte</span>r {
<span class="cstat-no" title="statement not covered" >        _minter = minter</span>;
    }
    
<span class="fstat-no" title="function not covered" >    function name() public view returns(string memory</span>) {
<span class="cstat-no" title="statement not covered" >        return _name;</span>
    }
    
<span class="fstat-no" title="function not covered" >    function symbol() public view returns(string memory</span>) {
<span class="cstat-no" title="statement not covered" >        return _symbol;</span>
    }
    
<span class="fstat-no" title="function not covered" >    function decimals() public view returns(uint256</span>) {
<span class="cstat-no" title="statement not covered" >        return _decimals;</span>
    }
    
<span class="fstat-no" title="function not covered" >    function cap() public view returns (uint256</span>) {
<span class="cstat-no" title="statement not covered" >        return _cap;</span>
    }
    
<span class="fstat-no" title="function not covered" >    function isMinter(address account) public view returns(bool</span>) {
<span class="cstat-no" title="statement not covered" >        return (_minter == account);</span>
    } 
    
<span class="fstat-no" title="function not covered" >    function isInitialized() public view returns(bool</span>) {
<span class="cstat-no" title="statement not covered" >        return initialized;</span>
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function isPaused() public view returns(bool</span>) {
<span class="cstat-no" title="statement not covered" >        return paused;</span>
    }
}</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Apr 30 2020 15:53:31 GMT+0200 (Eastern European Standard Time)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
